/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __markAsModule = (target) => __defProp(target, "__esModule", { value: true });
var __export = (target, all) => {
  __markAsModule(target);
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __reExport = (target, module2, desc) => {
  if (module2 && typeof module2 === "object" || typeof module2 === "function") {
    for (let key of __getOwnPropNames(module2))
      if (!__hasOwnProp.call(target, key) && key !== "default")
        __defProp(target, key, { get: () => module2[key], enumerable: !(desc = __getOwnPropDesc(module2, key)) || desc.enumerable });
  }
  return target;
};
var __toModule = (module2) => {
  return __reExport(__markAsModule(__defProp(module2 != null ? __create(__getProtoOf(module2)) : {}, "default", module2 && module2.__esModule && "default" in module2 ? { get: () => module2.default, enumerable: true } : { value: module2, enumerable: true })), module2);
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// main.ts
__export(exports, {
  BetterCodeBlocks: () => BetterCodeBlocks,
  default: () => BetterCodeBlock
});
var import_obsidian = __toModule(require("obsidian"));
var DEFAULT_LANG = "";
var LANG_REG = /^language-/;
var LINE_SPLIT_MARK = "\n";
var CB_PADDING_TOP = "35px";
var DEFAULT_SETTINGS = {
  substitutionTokenForSpace: void 0,
  titleBackgroundColor: "#00000020",
  titleFontColor: void 0,
  highLightColor: "#2d82cc20",
  excludeLangs: [],
  showLineNumber: true,
  showDividingLine: false,
  showLangNameInTopRight: true
};
var BetterCodeBlock = class extends import_obsidian.Plugin {
  onload() {
    return __async(this, null, function* () {
      console.log("Loading Better Code Block Plugin");
      yield this.loadSettings();
      this.addSettingTab(new BetterCodeBlockTab(this.app, this));
      this.registerMarkdownPostProcessor((el, ctx) => {
        BetterCodeBlocks(el, ctx, this);
      });
    });
  }
  onunload() {
    console.log("Unloading Better Code Block Plugin");
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
};
var BetterCodeBlockTab = class extends import_obsidian.PluginSettingTab {
  constructor(app2, plugin) {
    super(app2, plugin);
    this.plugin = plugin;
  }
  display() {
    let { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("Exclude language list").setDesc("Title and line numbers do not apply in these languages, separate by `,`").addText((text) => text.setPlaceholder("like todoist,other,...").setValue(this.plugin.settings.excludeLangs.join(",")).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.excludeLangs = value.split(",");
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Font color of title").addText((tc) => tc.setPlaceholder("Enter a color").setValue(this.plugin.settings.titleFontColor).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.titleFontColor = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Background color of title").addText((tc) => tc.setPlaceholder("#00000020").setValue(this.plugin.settings.titleBackgroundColor).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.titleBackgroundColor = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("HighLight Color").addText((tc) => tc.setPlaceholder("#2d82cc20").setValue(this.plugin.settings.highLightColor).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.highLightColor = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Show line number").addToggle((tc) => tc.setValue(this.plugin.settings.showLineNumber).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.showLineNumber = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Show dividing line").addToggle((tc) => tc.setValue(this.plugin.settings.showDividingLine).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.showDividingLine = value;
      yield this.plugin.saveSettings();
    })));
    new import_obsidian.Setting(containerEl).setName("Show language name in the top right").addToggle((tc) => tc.setValue(this.plugin.settings.showLangNameInTopRight).onChange((value) => __async(this, null, function* () {
      this.plugin.settings.showLangNameInTopRight = value;
      yield this.plugin.saveSettings();
    })));
  }
};
function BetterCodeBlocks(el, context, plugin) {
  const settings = plugin.settings;
  const codeElm = el.querySelector("pre > code");
  if (!codeElm) {
    return;
  }
  let lang = DEFAULT_LANG;
  if (plugin.settings.excludeLangs.some((eLangName) => codeElm.classList.contains(`language-${eLangName}`))) {
    return;
  }
  codeElm.classList.forEach((value, key, parent) => {
    if (LANG_REG.test(value)) {
      lang = value.replace("language-", "");
      return;
    }
  });
  if (lang == DEFAULT_LANG) {
    return;
  }
  let titleRegExp = /TI:"([^"]*)"/i;
  let highLightLinesRegExp = /HL:"([^"]*)"/i;
  let foldRegExp = /"FOLD"/i;
  let codeBlock = context.getSectionInfo(codeElm);
  let view = app.workspace.getActiveViewOfType(import_obsidian.MarkdownView);
  let codeBlockFirstLine = view.editor.getLine(codeBlock.lineStart);
  let title = "";
  let highLightLines = [];
  if (codeBlockFirstLine.match(titleRegExp) != null) {
    title = codeBlockFirstLine.match(titleRegExp)[1];
  }
  if (codeBlockFirstLine.match(highLightLinesRegExp) != null) {
    let highLightLinesInfo = codeBlockFirstLine.match(highLightLinesRegExp)[1];
    highLightLines = analyseHighLightLines(highLightLinesInfo);
  }
  let isCollapse = false;
  if (foldRegExp.test(codeBlockFirstLine)) {
    isCollapse = true;
  }
  const pre = codeElm.parentElement;
  const div = pre.parentElement;
  const contentList = codeElm.textContent.split(LINE_SPLIT_MARK);
  const lineSize = contentList.length - 1;
  const cbMeta = { langName: lang, lineSize, pre, code: codeElm, title, isCollapse, div, contentList, highLightLines };
  const { showLineNumber } = plugin.settings;
  addCodeTitle(plugin, pre, cbMeta);
  if (showLineNumber) {
    addLineNumber(plugin, cbMeta);
  }
  addLineHighLight(plugin, pre, cbMeta);
}
function createElement(tagName, defaultClassName) {
  const element = document.createElement(tagName);
  if (defaultClassName) {
    element.className = defaultClassName;
  }
  return element;
}
function addLineNumber(plugin, cbMeta) {
  const { lineSize, pre, div } = cbMeta;
  div.classList.add("code-block-wrap");
  const lineNumber = createElement("span", "code-block-linenum-wrap");
  lineNumber.style.top = CB_PADDING_TOP;
  Array.from({ length: lineSize }, (v, k) => k).forEach((i) => {
    const singleLine = createElement("span", "code-block-linenum");
    lineNumber.appendChild(singleLine);
  });
  if (plugin.settings.showDividingLine) {
    lineNumber.style.borderRight = "1px currentColor solid";
  }
  pre.appendChild(lineNumber);
  pre.classList.add("code-block-pre__has-linenum");
}
function addCodeTitle(plugin, wrapperElm, cbMeta) {
  wrapperElm.style.setProperty("position", "relative", "important");
  wrapperElm.style.setProperty("padding-top", CB_PADDING_TOP, "important");
  wrapperElm.querySelectorAll(".obsidian-embedded-code-title__code-block-title").forEach((x) => x.remove());
  let d = document.createElement("pre");
  d.appendText(cbMeta.title);
  if (cbMeta.isCollapse) {
    d.setAttribute("closed", "");
  }
  d.className = "obsidian-embedded-code-title__code-block-title";
  if (plugin.settings.titleFontColor) {
    d.style.setProperty("color", plugin.settings.titleFontColor, "important");
  }
  d.style.backgroundColor = plugin.settings.titleBackgroundColor || "#00000020";
  let collapser = createElement("div", "collapser");
  let handle = createElement("div", "handle");
  collapser.appendChild(handle);
  d.appendChild(collapser);
  if (plugin.settings.showLangNameInTopRight) {
    let langName = document.createElement("div");
    let langNameString = cbMeta.langName;
    langNameString = langNameString[0].toUpperCase() + langNameString.slice(1);
    langName.appendText(langNameString);
    langName.className = "langName";
    d.appendChild(langName);
  }
  d.addEventListener("click", function() {
    if (d.hasAttribute("closed")) {
      d.removeAttribute("closed");
    } else {
      d.setAttribute("closed", "");
    }
  });
  wrapperElm.prepend(d);
}
function addLineHighLight(plugin, wrapperElm, cbMeta) {
  if (cbMeta.highLightLines.length == 0)
    return;
  let highLightWrap = document.createElement("pre");
  highLightWrap.className = "code-block-highlight-wrap";
  for (let i = 0; i < cbMeta.lineSize; i++) {
    const singleLine = createElement("span", "code-block-highlight");
    if (cbMeta.highLightLines.contains(i + 1)) {
      singleLine.style.backgroundColor = plugin.settings.highLightColor || "#2d82cc20";
    }
    highLightWrap.appendChild(singleLine);
  }
  wrapperElm.appendChild(highLightWrap);
}
function analyseHighLightLines(str) {
  str = str.replace(/\s*/g, "");
  const result = [];
  let strs = str.split(",");
  strs.forEach((it) => {
    if (/\w+-\w+/.test(it)) {
      let left = Number(it.split("-")[0]);
      let right = Number(it.split("-")[1]);
      for (let i = left; i <= right; i++) {
        result.push(i);
      }
    } else {
      result.push(Number(it));
    }
  });
  return result;
}
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgbGlua1N5bmMgfSBmcm9tICdmcyc7XG5pbXBvcnQgeyBBcHAsIEVkaXRvciwgTWFya2Rvd25WaWV3LCBNb2RhbCwgTm90aWNlLCBQbHVnaW4sIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcsIE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsIE1lbnUsIFNldHRpbmdUYWIsIFRBYnN0cmFjdEZpbGUsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5jb25zdCBERUZBVUxUX0xBTkdfQVRUUiA9ICdsYW5ndWFnZS10ZXh0J1xuY29uc3QgREVGQVVMVF9MQU5HID0gJydcbmNvbnN0IExBTkdfUkVHID0gL15sYW5ndWFnZS0vXG5jb25zdCBMSU5FX1NQTElUX01BUksgPSAnXFxuJ1xuXG5jb25zdCBDQl9QQURESU5HX1RPUCA9IFwiMzVweFwiIC8vIFx1NEVFM1x1NzgwMVx1NTc1N1x1NEUwQVx1OEZCOVx1OERERFxuXG5pbnRlcmZhY2UgU2V0dGluZ3Mge1xuXHRzdWJzdGl0dXRpb25Ub2tlbkZvclNwYWNlOiBzdHJpbmc7XG5cdHRpdGxlQmFja2dyb3VuZENvbG9yOiBzdHJpbmc7XG5cdHRpdGxlRm9udENvbG9yOiBzdHJpbmc7XG5cdGhpZ2hMaWdodENvbG9yOiBzdHJpbmc7XG5cblx0ZXhjbHVkZUxhbmdzOiBzdHJpbmdbXTsgLy8gXHU5NzAwXHU4OTgxXHU2MzkyXHU5NjY0XHU3Njg0XHU4QkVEXHU4QTAwXG5cblx0c2hvd0xpbmVOdW1iZXI6IGJvb2xlYW47IC8vIFx1NjYzRVx1NzkzQVx1ODg0Q1x1NTNGN1xuXHRzaG93RGl2aWRpbmdMaW5lOiBib29sZWFuO1xuXHRzaG93TGFuZ05hbWVJblRvcFJpZ2h0OiBib29sZWFuO1xufVxuXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBTZXR0aW5ncyA9IHtcblx0c3Vic3RpdHV0aW9uVG9rZW5Gb3JTcGFjZTogdW5kZWZpbmVkLFxuXHR0aXRsZUJhY2tncm91bmRDb2xvcjogXCIjMDAwMDAwMjBcIixcblx0dGl0bGVGb250Q29sb3I6IHVuZGVmaW5lZCxcblx0aGlnaExpZ2h0Q29sb3I6IFwiIzJkODJjYzIwXCIsXG5cblx0ZXhjbHVkZUxhbmdzOiBbXSxcblxuXHRzaG93TGluZU51bWJlcjogdHJ1ZSxcblx0c2hvd0RpdmlkaW5nTGluZTogZmFsc2UsXG5cdHNob3dMYW5nTmFtZUluVG9wUmlnaHQ6IHRydWVcbn07XG5cbmludGVyZmFjZSBDb2RlQmxvY2tNZXRhIHtcblx0Ly8gTGFuZ3VhZ2UgbmFtZVxuXHRsYW5nTmFtZTogc3RyaW5nO1xuXG5cdC8vIENvZGUgYmxvY2sgdG90YWwgbGluZSBzaXplXG5cdGxpbmVTaXplOiBudW1iZXI7XG5cblx0Ly8gQ29kZSBibG9jayAncHJlJyBIVE1MRWxlbWVudFxuXHRwcmU6IEhUTUxFbGVtZW50O1xuXG5cdC8vIENvZGUgYmxvY2sgJ2NvZGUnIEhUTUxFbGVtZW50XG5cdGNvZGU6IEhUTUxFbGVtZW50O1xuXG5cdHRpdGxlOiBzdHJpbmc7IC8vIFx1NEVFM1x1NzgwMVx1NTc1N1x1NjgwN1x1OTg5OFxuXHRpc0NvbGxhcHNlOmJvb2xlYW47IC8vIFx1NjYyRlx1NTQyNlx1OUVEOFx1OEJBNFx1NjI5OFx1NTNFMFxuXG5cdC8vIENvZGUgYmxvY2sgd3JhcCBkaXZcblx0ZGl2OiBIVE1MRWxlbWVudDtcblx0Y29udGVudExpc3Q6IHN0cmluZ1tdO1xuXHRoaWdoTGlnaHRMaW5lczogbnVtYmVyW107XG59XG5cbi8vIFJlZmVyIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2phL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9ucyNlc2NhcGluZ1xuZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cjogc3RyaW5nKTogc3RyaW5nIHtcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC9bLiorP149IToke30oKXxbXFxdXFwvXFxcXF0vZywgXCJcXFxcJCZcIik7IC8vIFx1NEUzQVx1NzI3OVx1NkI4QVx1N0IyNlx1NTNGN1x1NTJBMFx1NEUwQVx1OEY2Q1x1NEU0OVx1N0IyNlx1NTNGN1wiXFxcIlxufVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBCZXR0ZXJDb2RlQmxvY2sgZXh0ZW5kcyBQbHVnaW4ge1xuXHRzZXR0aW5nczogU2V0dGluZ3M7XG5cblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiTG9hZGluZyBCZXR0ZXIgQ29kZSBCbG9jayBQbHVnaW5cIik7XG5cdFx0YXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IEJldHRlckNvZGVCbG9ja1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXHRcdHRoaXMucmVnaXN0ZXJNYXJrZG93blBvc3RQcm9jZXNzb3IoKGVsLCBjdHgpID0+IHtcblx0XHRcdEJldHRlckNvZGVCbG9ja3MoZWwsIGN0eCwgdGhpcylcblx0XHR9KVxuXHR9XG5cblx0b251bmxvYWQgKCkge1xuXHRcdGNvbnNvbGUubG9nKCdVbmxvYWRpbmcgQmV0dGVyIENvZGUgQmxvY2sgUGx1Z2luJyk7XG5cdH1cblx0XG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcblx0fVxuXHRcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xuXHRcdGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG5cdH1cbn1cblxuY2xhc3MgQmV0dGVyQ29kZUJsb2NrVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG5cdHBsdWdpbjogQmV0dGVyQ29kZUJsb2NrO1xuICBcblx0Y29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogQmV0dGVyQ29kZUJsb2NrKSB7XG5cdCAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuXHQgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuXHR9XG4gIFxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHQgIGxldCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICBcblx0ICBjb250YWluZXJFbC5lbXB0eSgpO1xuXHRcblx0ICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZShcIkV4Y2x1ZGUgbGFuZ3VhZ2UgbGlzdFwiKVxuXHRcdC5zZXREZXNjKFwiVGl0bGUgYW5kIGxpbmUgbnVtYmVycyBkbyBub3QgYXBwbHkgaW4gdGhlc2UgbGFuZ3VhZ2VzLCBzZXBhcmF0ZSBieSBgLGBcIilcblx0XHQuYWRkVGV4dCh0ZXh0ID0+IHRleHQuc2V0UGxhY2Vob2xkZXIoJ2xpa2UgdG9kb2lzdCxvdGhlciwuLi4nKVxuXHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5leGNsdWRlTGFuZ3Muam9pbignLCcpKVxuXHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmV4Y2x1ZGVMYW5ncyA9IHZhbHVlLnNwbGl0KCcsJyk7XG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHR9KVxuXHRcdClcbiAgXG5cdCAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpLnNldE5hbWUoXCJGb250IGNvbG9yIG9mIHRpdGxlXCIpLmFkZFRleHQoKHRjKSA9PlxuXHRcdHRjXG5cdFx0ICAuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciBhIGNvbG9yXCIpXG5cdFx0ICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudGl0bGVGb250Q29sb3IpXG5cdFx0ICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy50aXRsZUZvbnRDb2xvciA9IHZhbHVlO1xuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0ICB9KVxuXHQgICk7XG4gIFxuXHQgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdC5zZXROYW1lKFwiQmFja2dyb3VuZCBjb2xvciBvZiB0aXRsZVwiKVxuXHRcdC5hZGRUZXh0KCh0YykgPT5cblx0XHQgIHRjXG5cdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCIjMDAwMDAwMjBcIilcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50aXRsZUJhY2tncm91bmRDb2xvcilcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdCAgdGhpcy5wbHVnaW4uc2V0dGluZ3MudGl0bGVCYWNrZ3JvdW5kQ29sb3IgPSB2YWx1ZTtcblx0XHRcdCAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZShcIkhpZ2hMaWdodCBDb2xvclwiKVxuXHRcdC5hZGRUZXh0KCh0YykgPT5cblx0XHQgIHRjXG5cdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCIjMmQ4MmNjMjBcIilcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5oaWdoTGlnaHRDb2xvcilcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdCAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuaGlnaExpZ2h0Q29sb3IgPSB2YWx1ZTtcblx0XHRcdCAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZShcIlNob3cgbGluZSBudW1iZXJcIilcblx0XHQuYWRkVG9nZ2xlKCh0YykgPT4gXG5cdFx0dGMuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0xpbmVOdW1iZXIpXG5cdFx0Lm9uQ2hhbmdlKGFzeW5jKHZhbHVlKSA9PiB7XG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93TGluZU51bWJlciA9IHZhbHVlO1xuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0fSlcblx0XHQpXG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZShcIlNob3cgZGl2aWRpbmcgbGluZVwiKVxuXHRcdC5hZGRUb2dnbGUoKHRjKSA9PlxuXHRcdHRjLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dEaXZpZGluZ0xpbmUpXG5cdFx0Lm9uQ2hhbmdlKGFzeW5jKHZhbHVlKSA9PiB7XG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RGl2aWRpbmdMaW5lID0gdmFsdWU7XG5cdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHR9KVxuXHRcdClcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdC5zZXROYW1lKFwiU2hvdyBsYW5ndWFnZSBuYW1lIGluIHRoZSB0b3AgcmlnaHRcIilcblx0XHQuYWRkVG9nZ2xlKCh0YykgPT5cblx0XHR0Yy5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93TGFuZ05hbWVJblRvcFJpZ2h0KVxuXHRcdC5vbkNoYW5nZShhc3luYyh2YWx1ZSkgPT4ge1xuXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0xhbmdOYW1lSW5Ub3BSaWdodCA9IHZhbHVlO1xuXHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0fSlcblx0XHQpXG5cdH1cbiAgfVxuXG5leHBvcnQgZnVuY3Rpb24gQmV0dGVyQ29kZUJsb2NrcyhlbDogSFRNTEVsZW1lbnQsIGNvbnRleHQ6IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsIHBsdWdpbjogQmV0dGVyQ29kZUJsb2NrKSB7XG5cdGNvbnN0IHNldHRpbmdzID0gcGx1Z2luLnNldHRpbmdzXG5cdFxuXHRjb25zdCBjb2RlRWxtOiBIVE1MRWxlbWVudCA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ3ByZSA+IGNvZGUnKVxuXHQvLyBvbmx5IGNoYW5nZSBwcmU+Y29kZVxuXHRpZiAoIWNvZGVFbG0pIHtcblx0ICByZXR1cm5cblx0fVxuXG5cdGxldCBsYW5nID0gREVGQVVMVF9MQU5HXG5cdC8vIHJldHVybiB3aGVuIGxhbmcgaXMgaW4gZXhjbHVkZSBsaXN0XG5cdGlmIChwbHVnaW4uc2V0dGluZ3MuZXhjbHVkZUxhbmdzLnNvbWUoZUxhbmdOYW1lID0+IGNvZGVFbG0uY2xhc3NMaXN0LmNvbnRhaW5zKGBsYW5ndWFnZS0ke2VMYW5nTmFtZX1gKSkpIHtcblx0ICByZXR1cm5cblx0fVxuXHRcblx0Y29kZUVsbS5jbGFzc0xpc3QuZm9yRWFjaCgodmFsdWUsIGtleSwgcGFyZW50KSA9PiB7XG5cdCAgaWYgKExBTkdfUkVHLnRlc3QodmFsdWUpKSB7XG5cdFx0bGFuZyA9IHZhbHVlLnJlcGxhY2UoJ2xhbmd1YWdlLScsICcnKVxuXHRcdHJldHVyblxuXHQgIH1cblx0fSlcblxuXHQvLyBpZiB0aGUgY29kZSBibG9jayBpcyBub3QgZGVzY3JpYmVkLCByZXR1cm5cblx0aWYobGFuZyA9PSBERUZBVUxUX0xBTkcpIHtcblx0XHRyZXR1cm5cblx0fVxuXG5cdGxldCB0aXRsZVJlZ0V4cCA9IC9USTpcIihbXlwiXSopXCIvaVxuXHRsZXQgaGlnaExpZ2h0TGluZXNSZWdFeHAgPSAvSEw6XCIoW15cIl0qKVwiL2lcblx0bGV0IGZvbGRSZWdFeHAgPSAvXCJGT0xEXCIvaVxuXG5cdGxldCBjb2RlQmxvY2sgPSBjb250ZXh0LmdldFNlY3Rpb25JbmZvKGNvZGVFbG0pXG5cdGxldCB2aWV3ID0gYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKE1hcmtkb3duVmlldylcblx0bGV0IGNvZGVCbG9ja0ZpcnN0TGluZSA9IHZpZXcuZWRpdG9yLmdldExpbmUoY29kZUJsb2NrLmxpbmVTdGFydClcblxuXHRsZXQgdGl0bGU6IHN0cmluZyA9IFwiXCJcblx0bGV0IGhpZ2hMaWdodExpbmVzOiBudW1iZXJbXSA9IFtdXG5cdGlmKGNvZGVCbG9ja0ZpcnN0TGluZS5tYXRjaCh0aXRsZVJlZ0V4cCkgIT0gbnVsbCkge1xuXHRcdHRpdGxlID0gY29kZUJsb2NrRmlyc3RMaW5lLm1hdGNoKHRpdGxlUmVnRXhwKVsxXVxuXHR9XG5cdGlmKGNvZGVCbG9ja0ZpcnN0TGluZS5tYXRjaChoaWdoTGlnaHRMaW5lc1JlZ0V4cCkgIT0gbnVsbCkge1xuXHRcdGxldCBoaWdoTGlnaHRMaW5lc0luZm8gPSBjb2RlQmxvY2tGaXJzdExpbmUubWF0Y2goaGlnaExpZ2h0TGluZXNSZWdFeHApWzFdXG5cdFx0aGlnaExpZ2h0TGluZXMgPSBhbmFseXNlSGlnaExpZ2h0TGluZXMoaGlnaExpZ2h0TGluZXNJbmZvKVxuXHR9XG5cblx0bGV0IGlzQ29sbGFwc2UgPSBmYWxzZTtcblx0aWYoZm9sZFJlZ0V4cC50ZXN0KGNvZGVCbG9ja0ZpcnN0TGluZSkpIHtcblx0XHRpc0NvbGxhcHNlID0gdHJ1ZVxuXHR9XG5cblx0Y29uc3QgcHJlID0gY29kZUVsbS5wYXJlbnRFbGVtZW50IC8vIGNvZGUtYmxvY2stcHJlX19oYXMtbGluZW51bVxuXHRjb25zdCBkaXYgPSBwcmUucGFyZW50RWxlbWVudCAvLyBjbGFzcyBjb2RlLWJsb2NrLXdyYXBcblxuXHQvKiBjb25zdCB7IGxpbmVTdGFydCwgbGluZUVuZCB9ID0gY3R4LmdldFNlY3Rpb25JbmZvKGVsKVxuXHRjb25zdCBsaW5lU2l6ZSA9IGxpbmVFbmQgLSBsaW5lU3RhcnQgLSAxICovXG5cdGNvbnN0IGNvbnRlbnRMaXN0OiBzdHJpbmdbXSA9IGNvZGVFbG0udGV4dENvbnRlbnQuc3BsaXQoTElORV9TUExJVF9NQVJLKVxuXHRjb25zdCBsaW5lU2l6ZSA9IGNvbnRlbnRMaXN0Lmxlbmd0aCAtIDFcblxuXHRjb25zdCBjYk1ldGE6IENvZGVCbG9ja01ldGEgPSB7IGxhbmdOYW1lOiBsYW5nLCBsaW5lU2l6ZSwgcHJlLCBjb2RlOiBjb2RlRWxtLCB0aXRsZSwgaXNDb2xsYXBzZSwgZGl2LCBjb250ZW50TGlzdCwgaGlnaExpZ2h0TGluZXN9XG5cblx0Y29uc3Qge3Nob3dMaW5lTnVtYmVyfSA9IHBsdWdpbi5zZXR0aW5nc1xuXG5cdGFkZENvZGVUaXRsZShwbHVnaW4sIHByZSwgY2JNZXRhKTtcblxuXHQvLyBhZGQgbGluZSBudW1iZXJcblx0aWYgKHNob3dMaW5lTnVtYmVyKSB7XG5cdFx0YWRkTGluZU51bWJlcihwbHVnaW4sIGNiTWV0YSlcblx0fVxuXG5cdGFkZExpbmVIaWdoTGlnaHQocGx1Z2luLCBwcmUsIGNiTWV0YSlcbn1cblxuZnVuY3Rpb24gY3JlYXRlRWxlbWVudCAodGFnTmFtZTogc3RyaW5nLCBkZWZhdWx0Q2xhc3NOYW1lPzogc3RyaW5nKSB7XG5cdGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpXG5cdGlmIChkZWZhdWx0Q2xhc3NOYW1lKSB7XG5cdCAgZWxlbWVudC5jbGFzc05hbWUgPSBkZWZhdWx0Q2xhc3NOYW1lXG5cdH1cblx0cmV0dXJuIGVsZW1lbnRcbn1cblxuZnVuY3Rpb24gYWRkTGluZU51bWJlciAocGx1Z2luOiBCZXR0ZXJDb2RlQmxvY2ssIGNiTWV0YTogQ29kZUJsb2NrTWV0YSkge1xuXHRjb25zdCB7IGxpbmVTaXplLCBwcmUsIGRpdiB9ID0gY2JNZXRhXG5cdC8vIGxldCBkaXYgcG9zaXRpb246IHJlbGF0aXZlO1xuXHRkaXYuY2xhc3NMaXN0LmFkZCgnY29kZS1ibG9jay13cmFwJylcblx0Ly8gY29uc3QgeyBmb250U2l6ZSwgbGluZUhlaWdodCB9ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUoY2JNZXRhLmNvZGUpXG5cdGNvbnN0IGxpbmVOdW1iZXIgPSBjcmVhdGVFbGVtZW50KCdzcGFuJywgJ2NvZGUtYmxvY2stbGluZW51bS13cmFwJylcblx0bGluZU51bWJlci5zdHlsZS50b3AgPSBDQl9QQURESU5HX1RPUDtcblx0QXJyYXkuZnJvbSh7IGxlbmd0aDogbGluZVNpemUgfSwgKHYsIGspID0+IGspLmZvckVhY2goaSA9PiB7XG5cdCAgY29uc3Qgc2luZ2xlTGluZSA9IGNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCAnY29kZS1ibG9jay1saW5lbnVtJylcblx0ICAvLyBzaW5nbGVMaW5lLnN0eWxlLmZvbnRTaXplID0gZm9udFNpemVcblx0ICAvLyBzaW5nbGVMaW5lLnN0eWxlLmxpbmVIZWlnaHQgPSBsaW5lSGVpZ2h0XG5cdCAgbGluZU51bWJlci5hcHBlbmRDaGlsZChzaW5nbGVMaW5lKVxuXHR9KVxuXHRcblx0aWYocGx1Z2luLnNldHRpbmdzLnNob3dEaXZpZGluZ0xpbmUpIHtcblx0XHRsaW5lTnVtYmVyLnN0eWxlLmJvcmRlclJpZ2h0ID0gXCIxcHggY3VycmVudENvbG9yIHNvbGlkXCJcblx0fVxuXG5cdHByZS5hcHBlbmRDaGlsZChsaW5lTnVtYmVyKVxuXHRwcmUuY2xhc3NMaXN0LmFkZCgnY29kZS1ibG9jay1wcmVfX2hhcy1saW5lbnVtJylcbn1cblxuXG5mdW5jdGlvbiBhZGRDb2RlVGl0bGUgKHBsdWdpbjogQmV0dGVyQ29kZUJsb2NrLCB3cmFwcGVyRWxtOiBIVE1MRWxlbWVudCwgY2JNZXRhOiBDb2RlQmxvY2tNZXRhKSB7XG5cdHdyYXBwZXJFbG0uc3R5bGUuc2V0UHJvcGVydHkoXCJwb3NpdGlvblwiLCBcInJlbGF0aXZlXCIsIFwiaW1wb3J0YW50XCIpO1xuXHR3cmFwcGVyRWxtLnN0eWxlLnNldFByb3BlcnR5KFwicGFkZGluZy10b3BcIiwgQ0JfUEFERElOR19UT1AsIFwiaW1wb3J0YW50XCIpO1xuXG5cdHdyYXBwZXJFbG1cblx0ICAucXVlcnlTZWxlY3RvckFsbChcIi5vYnNpZGlhbi1lbWJlZGRlZC1jb2RlLXRpdGxlX19jb2RlLWJsb2NrLXRpdGxlXCIpXG5cdCAgLmZvckVhY2goKHgpID0+IHgucmVtb3ZlKCkpOyAvLyBcdTk2MzJcdTYyOTZcdTUyQThcblxuXHRsZXQgZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIik7XG5cdC8vIGQuYXBwZW5kVGV4dChjYk1ldGEudGl0bGUpO1xuXHRkLmFwcGVuZFRleHQoY2JNZXRhLnRpdGxlKVxuXG5cdGlmKGNiTWV0YS5pc0NvbGxhcHNlKSB7XG5cdFx0ZC5zZXRBdHRyaWJ1dGUoXCJjbG9zZWRcIixcIlwiKVxuXHR9XG5cdGQuY2xhc3NOYW1lID0gXCJvYnNpZGlhbi1lbWJlZGRlZC1jb2RlLXRpdGxlX19jb2RlLWJsb2NrLXRpdGxlXCI7XG5cblx0aWYocGx1Z2luLnNldHRpbmdzLnRpdGxlRm9udENvbG9yKSB7XG5cdFx0ZC5zdHlsZS5zZXRQcm9wZXJ0eShcImNvbG9yXCIsIHBsdWdpbi5zZXR0aW5ncy50aXRsZUZvbnRDb2xvciwgXCJpbXBvcnRhbnRcIilcblx0fVxuXHRkLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IHBsdWdpbi5zZXR0aW5ncy50aXRsZUJhY2tncm91bmRDb2xvciB8fCBcIiMwMDAwMDAyMFwiO1xuXG5cdGxldCBjb2xsYXBzZXIgPSBjcmVhdGVFbGVtZW50KFwiZGl2XCIsXCJjb2xsYXBzZXJcIilcblx0bGV0IGhhbmRsZSA9IGNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgXCJoYW5kbGVcIilcblx0Y29sbGFwc2VyLmFwcGVuZENoaWxkKGhhbmRsZSlcblx0ZC5hcHBlbmRDaGlsZChjb2xsYXBzZXIpXG5cblx0aWYocGx1Z2luLnNldHRpbmdzLnNob3dMYW5nTmFtZUluVG9wUmlnaHQpIHtcblx0XHRsZXQgbGFuZ05hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpOyAvLyBcdTU3MjhcdTUzRjNcdTRGQTdcdTZERkJcdTUyQTBcdTRFRTNcdTc4MDFcdTdDN0JcdTU3OEJcblx0XHRsZXQgbGFuZ05hbWVTdHJpbmcgPSBjYk1ldGEubGFuZ05hbWVcblx0XHRsYW5nTmFtZVN0cmluZyA9IGxhbmdOYW1lU3RyaW5nWzBdLnRvVXBwZXJDYXNlKCkgKyBsYW5nTmFtZVN0cmluZy5zbGljZSgxKSAvLyBcdTk5OTZcdTVCNTdcdTZCQ0RcdTU5MjdcdTUxOTlcblx0XHRsYW5nTmFtZS5hcHBlbmRUZXh0KGxhbmdOYW1lU3RyaW5nKTtcblx0XHRsYW5nTmFtZS5jbGFzc05hbWUgPSBcImxhbmdOYW1lXCI7XG5cdFx0ZC5hcHBlbmRDaGlsZChsYW5nTmFtZSk7XG5cdH1cblx0ZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsZnVuY3Rpb24odGhpcykge1xuXHRcdGlmKGQuaGFzQXR0cmlidXRlKFwiY2xvc2VkXCIpKXtcblx0XHRcdGQucmVtb3ZlQXR0cmlidXRlKFwiY2xvc2VkXCIpXG5cdFx0fSBlbHNlIHtcblx0XHRcdGQuc2V0QXR0cmlidXRlKFwiY2xvc2VkXCIsJycpXG5cdFx0fVxuXHR9KVxuXHR3cmFwcGVyRWxtLnByZXBlbmQoZCk7XG59XG5cbmZ1bmN0aW9uIGFkZExpbmVIaWdoTGlnaHQocGx1Z2luOiBCZXR0ZXJDb2RlQmxvY2ssIHdyYXBwZXJFbG06IEhUTUxFbGVtZW50LCBjYk1ldGE6IENvZGVCbG9ja01ldGEpIHtcblx0aWYoY2JNZXRhLmhpZ2hMaWdodExpbmVzLmxlbmd0aCA9PSAwKSByZXR1cm5cblxuXHRsZXQgaGlnaExpZ2h0V3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwcmVcIilcblx0aGlnaExpZ2h0V3JhcC5jbGFzc05hbWUgPSBcImNvZGUtYmxvY2staGlnaGxpZ2h0LXdyYXBcIlxuXHRmb3IobGV0IGkgPSAwOyBpIDwgY2JNZXRhLmxpbmVTaXplOyBpKyspIHtcblx0XHRjb25zdCBzaW5nbGVMaW5lID0gY3JlYXRlRWxlbWVudChcInNwYW5cIiwgJ2NvZGUtYmxvY2staGlnaGxpZ2h0Jylcblx0XHRpZihjYk1ldGEuaGlnaExpZ2h0TGluZXMuY29udGFpbnMoaSsxKSkge1xuXHRcdFx0c2luZ2xlTGluZS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBwbHVnaW4uc2V0dGluZ3MuaGlnaExpZ2h0Q29sb3IgfHwgXCIjMmQ4MmNjMjBcIlxuXHRcdH1cblx0XHRoaWdoTGlnaHRXcmFwLmFwcGVuZENoaWxkKHNpbmdsZUxpbmUpXG5cdH1cblxuXHR3cmFwcGVyRWxtLmFwcGVuZENoaWxkKGhpZ2hMaWdodFdyYXApXG59XG5cbmZ1bmN0aW9uIGFuYWx5c2VIaWdoTGlnaHRMaW5lcyhzdHI6IHN0cmluZyk6IG51bWJlcltdIHtcblx0c3RyID0gc3RyLnJlcGxhY2UoL1xccyovZywgXCJcIikgLy8gXHU1M0JCXHU5NjY0XHU1QjU3XHU3QjI2XHU0RTMyXHU0RTJEXHU2MjQwXHU2NzA5XHU3QTdBXHU2ODNDXG5cdGNvbnN0IHJlc3VsdDogbnVtYmVyW10gPSBbXVxuXG5cdGxldCBzdHJzID0gc3RyLnNwbGl0KFwiLFwiKVxuXHRzdHJzLmZvckVhY2goaXQgPT4ge1xuXHRcdGlmKC9cXHcrLVxcdysvLnRlc3QoaXQpKSB7IC8vIFx1NTk4Mlx1Njc5Q1x1NTMzOVx1OTE0RCAxLTMgXHU4RkQ5XHU2ODM3XHU3Njg0XHU2ODNDXHU1RjBGXHVGRjBDXHU0RjlEXHU2QjIxXHU2REZCXHU1MkEwXHU2NTcwXHU1QjU3XG5cdFx0XHRsZXQgbGVmdCA9IE51bWJlcihpdC5zcGxpdCgnLScpWzBdKVxuXHRcdFx0bGV0IHJpZ2h0ID0gTnVtYmVyKGl0LnNwbGl0KCctJylbMV0pXG5cdFx0XHRmb3IobGV0IGkgPSBsZWZ0OyBpIDw9IHJpZ2h0OyBpKyspIHtcblx0XHRcdFx0cmVzdWx0LnB1c2goaSlcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0LnB1c2goTnVtYmVyKGl0KSlcblx0XHR9XG5cdH0pXG5cblx0cmV0dXJuIHJlc3VsdFxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQSxzQkFBa0s7QUFHbEssSUFBTSxlQUFlO0FBQ3JCLElBQU0sV0FBVztBQUNqQixJQUFNLGtCQUFrQjtBQUV4QixJQUFNLGlCQUFpQjtBQWV2QixJQUFNLG1CQUE2QjtBQUFBLEVBQ2xDLDJCQUEyQjtBQUFBLEVBQzNCLHNC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
